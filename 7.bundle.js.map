{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/modules/es.object.assign.js","webpack:///./node_modules/core-js/internals/object-assign.js","webpack:///./src/antistress/const.tsx","webpack:///./src/antistress/factors.tsx","webpack:///./src/antistress/app.tsx"],"names":["$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","length","undefined","assign","stat","Object","DESCRIPTORS","fails","objectKeys","getOwnPropertySymbolsModule","propertyIsEnumerableModule","toObject","IndexedObject","nativeAssign","defineProperty","module","exports","b","enumerable","get","value","A","B","symbol","Symbol","split","forEach","chr","join","source","T","argumentsLength","index","getOwnPropertySymbols","f","propertyIsEnumerable","key","S","keys","concat","j","call","Color","STORE_KEY","IS_TOUCH","document","documentElement","Palette","Red","Pink","Blue","Cyan","Green","Lime","Amber","Mode","MODE","factor","Jsx","CURRENT_COLOR","App","fractal","newCircle","data","JSON","parse","localStorage","getItem","Default","Circle","CurrentColor","fraction","Data","stringify","setItem","newColorSelectHandler","color","use","currentColor","a","Container","Main","Title","Canvas","Tools","ColorBtn","selected","Help","styled","section","main","div","props"],"mappings":"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","file":"7.bundle.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.github.io/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","export const STORE_KEY = 'ANTISTRESS_STORE'\nexport const IS_TOUCH = 'ontouchstart' in document.documentElement\n\nexport enum Color {\n    None = 'unset',\n    Default = '#00bcd4',\n    Red = '#e91e63',\n    Pink = '#9c27b0',\n    Blue = '#2196f3',\n    Cyan = '#00bcd4',\n    Green = '#4caf50',\n    Lime = '#cddc39',\n    Amber = '#ffc107',\n}\n\nexport const Palette = [Color.Red, Color.Pink, Color.Blue, Color.Cyan, Color.Green, Color.Lime, Color.Amber]\n","import { factor, Fraction } from '@fract/core'\nimport { Color } from './const'\n\nexport enum Mode {\n    Data,\n    Jsx,\n}\n\nexport const MODE = factor(Mode.Jsx)\nexport const CURRENT_COLOR = factor<Fraction<Color>>()\n","import React from 'react'\nimport styled from 'styled-components'\nimport { fractal, fraction } from '@fract/core'\nimport { STORE_KEY, IS_TOUCH, Color, Palette } from './const'\nimport { Handlers, TreeData } from './typings'\nimport { CURRENT_COLOR, MODE, Mode } from './factors'\n\nexport const App = fractal(async function* _Antistress() {\n    const { newCircle } = await import('./circle')\n\n    const data = JSON.parse(localStorage.getItem(STORE_KEY) || `\"${Color.Default}\"`) as TreeData\n    const Circle = newCircle(data)\n    const CurrentColor = fraction(Color.Default)\n\n    yield* CURRENT_COLOR(CurrentColor)\n\n    yield* fractal(async function* _AutoSyncWithLocalStore() {\n        yield* MODE(Mode.Data)\n\n        while (true) {\n            yield localStorage.setItem(STORE_KEY, JSON.stringify(yield* Circle))\n        }\n    })\n\n    const newColorSelectHandler = (color: Color): Handlers => ({\n        [IS_TOUCH ? 'onTouchEnd' : 'onMouseUp']: () => CurrentColor.use(color),\n    })\n\n    while (true) {\n        const currentColor = yield* CurrentColor\n\n        yield (\n            <Container>\n                <Main>\n                    <Title>antistress</Title>\n                    <Canvas>{yield* Circle}</Canvas>\n                    <Tools>\n                        {Palette.map((color) => (\n                            <ColorBtn\n                                key={color}\n                                color={color}\n                                selected={color === currentColor}\n                                {...newColorSelectHandler(color)}\n                            />\n                        ))}\n                    </Tools>\n                </Main>\n                <Help>Click to fill, long click to split</Help>\n            </Container>\n        )\n    }\n})\n\nconst Container = styled.section`\n    width: 100%;\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n`\n\nconst Main = styled.main`\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    @media screen and (orientation: portrait) {\n        flex-direction: column;\n    }\n`\n\nconst Help = styled.div`\n    font-size: 14px;\n    font-weight: 300;\n    color: #c0c0c0;\n    text-align: center;\n    padding: 10px 0;\n`\n\nconst Title = styled.div`\n    font-size: 12vmin;\n    color: #29b6f6;\n    user-select: none;\n    flex: 1 0 0;\n    font-weight: 100;\n\n    @media screen and (orientation: portrait) {\n        margin-top: 10px;\n    }\n    @media screen and (orientation: landscape) {\n        writing-mode: vertical-lr;\n        align-self: flex-end;\n        margin: 20px 0;\n    }\n`\n\nconst Tools = styled.div`\n    user-select: none;\n    flex: 1 0 0;\n    display: flex;\n\n    @media screen and (orientation: portrait) {\n        align-items: flex-end;\n        padding-bottom: 20px;\n    }\n    @media screen and (orientation: landscape) {\n        flex-direction: column;\n        align-items: flex-end;\n        padding-right: 20px;\n    }\n`\n\nconst Canvas = styled.div`\n    width: 80vmin;\n    height: 80vmin;\n    position: relative;\n`\n\nconst ColorBtn = styled.div<{ color: Color; selected: boolean }>`\n    width: 8vmin;\n    height: 8vmin;\n    border-radius: 50%;\n    background-color: ${(props) => props.color};\n    box-shadow: ${(props) => (props.selected ? `inset 0 0 0px 3px ${props.color}, inset 0 0 0px 6px white;` : 'none')};\n    margin: 1vmin;\n    cursor: pointer;\n`\n"],"sourceRoot":""}