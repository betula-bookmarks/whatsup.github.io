{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./src/todos/utils.ts","webpack:///./src/todos/app.tsx","webpack:///./node_modules/core-js/modules/es.array.filter.js"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","configurable","get","call","this","match","error","$","from","target","stat","forced","checkCorrectnessOfIteration","iterable","Array","redefine","anObject","fails","flags","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","source","INCORRECT_NAME","name","R","p","String","rf","undefined","unsafe","bind","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","module","exports","arrayLike","length","result","step","iterator","next","value","O","C","argumentsLength","arguments","mapfn","mapping","iteratorMethod","index","done","that","global","ignoreCase","multiline","dotAll","unicode","sticky","memo","initializer","cache","memoized","connect","Target","isFractal","items","acc","Item","push","newApp","data","init","newTodos","filter","FilterMode","All","todos","Filter","fraction","Todos","fractal","guts","MODE","Mode","Data","Jsx","workInDataMode","workInJsxMode","newFooter","TODOS_MODE","TodosMode","FILTER","CHANGE_FILTER","mode","use","Counters","Actions","create","removeCompleted","Footer","NewTodoName","handleNewTodoNameInputChange","e","handleNewTodoNameInputKeyDown","keyCode","exec","newTodoName","ENTER_KEY","ESCAPE_KEY","a","Container","Wrapper","Header","Main","NewTodoNameInput","type","onChange","onKeyDown","placeholder","List","styled","section","header","main","ul","input","$filter","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","proto","callbackfn"],"mappings":"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","file":"chunk.570b07f5d7bd44e84c41.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","import { Fractal, isFractal } from '@fract/core'\n\nexport function memo<T>(initializer: () => T | Promise<T>) {\n    let memoized = false\n    let cache: T | Promise<T>\n    return () => (memoized ? cache : ((memoized = true), (cache = initializer())))\n}\n\nexport async function* connect<T>(Target: Fractal<T>[] | Fractal<Fractal<T>[]>) {\n    const items = isFractal(Target) ? yield* Target : Target\n    const acc = [] as T[]\n\n    for (const Item of items) {\n        acc.push(yield* Item)\n    }\n\n    return acc\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { fractal, fraction, exec, Fraction, Fractal } from '@fract/core'\nimport { ENTER_KEY, ESCAPE_KEY, FilterMode } from './const'\nimport { FILTER, MODE, Mode, CHANGE_FILTER } from './factors'\nimport { TodosData } from './todos'\nimport { memo } from './utils'\n\ntype AppGuts = {\n    Filter: Fraction<FilterMode>\n    Todos: Fractal<any>\n}\n\nexport type App = Fractal<AppData | AppJsx>\nexport type AppData = { filter: FilterMode; todos: TodosData }\nexport type AppJsx = JSX.Element[]\n\nexport function newApp(data: AppData) {\n    const init = memo(async () => {\n        const { newTodos } = await import('./todos')\n        const { filter = FilterMode.All, todos = [] } = data\n\n        const Filter = fraction(filter)\n        const Todos = newTodos(todos)\n\n        return { Filter, Todos }\n    })\n\n    return fractal(async function* _App() {\n        const guts = await init()\n\n        switch (yield* MODE) {\n            case Mode.Data:\n                yield* workInDataMode(guts)\n                break\n            case Mode.Jsx:\n                yield* workInJsxMode(guts)\n                break\n        }\n    })\n}\n\nasync function* workInDataMode({ Filter, Todos }: AppGuts) {\n    while (true) {\n        yield {\n            filter: yield* Filter,\n            todos: yield* Todos,\n        }\n    }\n}\n\nasync function* workInJsxMode({ Filter, Todos }: AppGuts) {\n    const { newFooter } = await import('./footer')\n    const { TODOS_MODE, TodosMode } = await import('./todos')\n\n    yield* FILTER(Filter)\n    yield* CHANGE_FILTER((mode: FilterMode) => Filter.use(mode))\n\n    const Counters = fractal(async function* _Counters() {\n        yield* TODOS_MODE(TodosMode.Counters)\n        return Todos\n    })\n    const { create, removeCompleted } = yield* fractal(async function* _Counters() {\n        yield* TODOS_MODE(TodosMode.Actions)\n        return Todos\n    })\n\n    const Footer = newFooter(Counters, removeCompleted)\n    const NewTodoName = fraction('')\n\n    const handleNewTodoNameInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        NewTodoName.use(e.target.value)\n    }\n    const handleNewTodoNameInputKeyDown = ({ keyCode }: React.KeyboardEvent) =>\n        exec(async function* () {\n            const newTodoName = yield* NewTodoName\n\n            if (newTodoName) {\n                if (keyCode === ENTER_KEY) {\n                    create(newTodoName)\n                }\n                if (keyCode === ENTER_KEY || keyCode === ESCAPE_KEY) {\n                    NewTodoName.use('')\n                }\n            }\n        })\n\n    while (true) {\n        yield (\n            <Container>\n                <Wrapper>\n                    <Header>todos</Header>\n                    <Main>\n                        <NewTodoNameInput\n                            type=\"text\"\n                            value={yield* NewTodoName}\n                            onChange={handleNewTodoNameInputChange}\n                            onKeyDown={handleNewTodoNameInputKeyDown}\n                            placeholder=\"What needs to be done?\"\n                        />\n                        <List>{yield* Todos}</List>\n                    </Main>\n                    {yield* Footer}\n                </Wrapper>\n            </Container>\n        )\n    }\n}\n\nconst Container = styled.section`\n    display: flex;\n    align-items: flex-start;\n    justify-content: center;\n    padding: 100px 20px;\n    font-weight: 100;\n`\n\nconst Wrapper = styled.section`\n    width: 100%;\n    max-width: 500px;\n`\n\nconst Header = styled.header`\n    font-size: 100px;\n    text-align: center;\n    color: #29b6f6;\n    user-select: none;\n`\n\nconst Main = styled.main`\n    background-color: white;\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1);\n`\n\nconst List = styled.ul``\n\nconst NewTodoNameInput = styled.input`\n    width: 100%;\n    height: 70px;\n    font-size: 24px;\n    padding: 20px;\n    margin: 0;\n    border: none;\n    outline: none;\n    font-family: inherit;\n    font-weight: inherit;\n    border-bottom: 1px solid #e5e5e5;\n    -webkit-font-smoothing: antialiased;\n    ::placeholder {\n        font-style: italic;\n        color: #adadad;\n    }\n`\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}