{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/todos/factors.ts","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./src/todos/const.ts","webpack:///./src/todos/app.tsx"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","configurable","get","call","this","match","error","$","from","target","stat","forced","checkCorrectnessOfIteration","iterable","Array","redefine","anObject","fails","flags","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","source","INCORRECT_NAME","name","R","p","String","rf","undefined","unsafe","Mode","MODE","factor","FILTER","CHANGE_FILTER","bind","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","module","exports","arrayLike","length","result","step","iterator","next","value","O","C","argumentsLength","arguments","mapfn","mapping","iteratorMethod","index","done","that","global","ignoreCase","multiline","dotAll","unicode","sticky","FilterMode","STORE_KEY","ENTER_KEY","ESCAPE_KEY","App","fractal","newTodos","newFiltered","newCounters","newFooter","Todos","Autosync","create","removeCompleted","Filtered","Counters","Footer","Filter","fraction","All","NewTodoName","mode","use","handleNewTodoNameInputChange","e","handleNewTodoNameInputKeyDown","keyCode","exec","newTodoName","list","Todo","push","a","Container","Wrapper","Header","Main","NewTodoNameInput","type","onChange","onKeyDown","placeholder","List","styled","section","header","main","ul","input"],"mappings":"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","file":"6.bundle.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","import { factor, Fractal } from '@fract/core'\nimport { FilterMode } from './const'\n\nexport enum Mode {\n    Data,\n    Jsx,\n    Service,\n}\n\nexport const MODE = factor<Mode>()\n\nexport const FILTER = factor<Fractal<FilterMode>>()\n\nexport const CHANGE_FILTER = factor<(mode: FilterMode) => any>()\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","export const STORE_KEY = 'TODO_STORE'\n\nexport const ENTER_KEY = 13\nexport const ESCAPE_KEY = 27\n\nexport enum FilterMode {\n    All,\n    Active,\n    Completed,\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { fractal, fraction, exec } from '@fract/core'\nimport { STORE_KEY, ENTER_KEY, ESCAPE_KEY, FilterMode } from './const'\nimport { FILTER, CHANGE_FILTER } from './factors'\nimport { TodoJsx } from './todo'\n\nexport const App = fractal<JSX.Element>(async function* _App() {\n    const { newTodos } = await import('./todos')\n    const { newFiltered } = await import('./filtered')\n    const { newCounters } = await import('./counters')\n    const { newFooter } = await import('./footer')\n\n    const { Todos, Autosync, create, removeCompleted } = await newTodos(STORE_KEY)\n    const Filtered = newFiltered(Todos)\n    const Counters = newCounters(Todos)\n    const Footer = newFooter(Counters, removeCompleted)\n    const Filter = fraction(FilterMode.All)\n    const NewTodoName = fraction('')\n\n    yield* Autosync\n    yield* FILTER(Filter)\n    yield* CHANGE_FILTER((mode: FilterMode) => Filter.use(mode))\n\n    const handleNewTodoNameInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        NewTodoName.use(e.target.value)\n    }\n    const handleNewTodoNameInputKeyDown = ({ keyCode }: React.KeyboardEvent) =>\n        exec(async function* () {\n            const newTodoName = yield* NewTodoName\n\n            if (newTodoName) {\n                if (keyCode === ENTER_KEY) {\n                    create(newTodoName)\n                }\n                if (keyCode === ENTER_KEY || keyCode === ESCAPE_KEY) {\n                    NewTodoName.use('')\n                }\n            }\n        })\n\n    while (true) {\n        const newTodoName = yield* NewTodoName\n\n        const list = [] as TodoJsx[]\n\n        for (const Todo of yield* Filtered) {\n            list.push((yield* Todo) as TodoJsx)\n        }\n\n        yield (\n            <Container>\n                <Wrapper>\n                    <Header>todos</Header>\n                    <Main>\n                        <NewTodoNameInput\n                            type=\"text\"\n                            value={newTodoName}\n                            onChange={handleNewTodoNameInputChange}\n                            onKeyDown={handleNewTodoNameInputKeyDown}\n                            placeholder=\"What needs to be done?\"\n                        />\n                        <List>{list}</List>\n                    </Main>\n                    {yield* Footer}\n                </Wrapper>\n            </Container>\n        )\n    }\n})\n\nconst Container = styled.section`\n    display: flex;\n    align-items: flex-start;\n    justify-content: center;\n    padding: 100px 20px;\n    font-weight: 100;\n`\n\nconst Wrapper = styled.section`\n    width: 100%;\n    max-width: 500px;\n`\n\nconst Header = styled.header`\n    font-size: 100px;\n    text-align: center;\n    color: #29b6f6;\n    user-select: none;\n`\n\nconst Main = styled.main`\n    background-color: white;\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 25px 50px 0 rgba(0, 0, 0, 0.1);\n`\n\nconst List = styled.ul``\n\nconst NewTodoNameInput = styled.input`\n    width: 100%;\n    height: 70px;\n    font-size: 24px;\n    padding: 20px;\n    margin: 0;\n    border: none;\n    outline: none;\n    font-family: inherit;\n    font-weight: inherit;\n    border-bottom: 1px solid #e5e5e5;\n    -webkit-font-smoothing: antialiased;\n    ::placeholder {\n        font-style: italic;\n        color: #adadad;\n    }\n`\n"],"sourceRoot":""}